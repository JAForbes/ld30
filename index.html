<link rel='stylesheet' href='css/style.css'>
<center>
	<canvas id='can'></canvas>
</center>


<script src='lib/underscore.js'></script>
<script src='lib/underscore_mixins.js'></script>
<script src='lib/e.js'></script>
<script src='lib/jquery.js'></script>
<script>
function now(){
    return new Date().getTime()
}
</script>
<script>

gameID = E({
	Canvas: { el: can, width: 1, height: 1, con: can.getContext('2d') },
	Mouse: { x: can.width/2, y: can.height/2, },
	Paused: { paused: false },
	Screen: { width: 0, height: 0},
})

home = E({
    Position: {x: can.width/2, y:can.height/2},
    Velocity: {x: 0,y:0},
    Circle : { radius: 50 },
    LockPosition: {position: 'center'},
    GestureShoot: {},
    GestureShield: {},
    Charge: { charge: 25 },
    SpikeyCharge: { spikes: 24, randomAngle: 0.1, randomRadius: 25}
})

function updateScreen(){
    var $el = $(window);
    var w = $el.width()
    var h = $el.height();
    var screen = E('Screen',gameID)
    screen.width = w;
    screen.height = h;
}

$(window).resize(updateScreen)
updateScreen()



can.onmousemove = function (e) {
	var mouse = E('Mouse',gameID);
	mouse.x = e.offsetX
    mouse.y = e.offsetY
}

can.onmousedown = function(e){
    var mouse = E('Mouse',gameID);
    mouse.down = true;
}

can.onmouseup = function(e){
    var mouse = E('Mouse',gameID);
    mouse.down = false;
}



</script>
<script src='js/systems.js'></script>
<script src='js/game.js'></script>
