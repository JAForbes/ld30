<link rel='stylesheet' href='css/style.css'>
<center>
	<canvas id='can'></canvas>
</center>


<script src='lib/underscore.js'></script>
<script src='lib/e.js'></script>
<script src='lib/jquery.js'></script>
<script>
function now(){
    return new Date().getTime()
}
</script>
<script>

gameID = E({
	Canvas: { el: can, width: 1, height: 0.9, con: can.getContext('2d') },
	Mouse: { x: can.width/2, y: can.height/2, },
	Paused: { paused: false },
	Screen: { width: 0, height: 0}
})

function updateScreen(){
    var $el = $('body');
    var w = $el.width()
    var h = $el.height();
    var screen = E('Screen',gameID)
    screen.width = w;
    screen.height = h;
}

$('body').change(updateScreen)
updateScreen()

can.onmousemove = function (e) {
	var mouse = E('Mouse',gameID);
	mouse.x = e.offsetX
    mouse.y = e.offsetY
}

can.onmousedown = function(e){
    var mouse = E('Mouse',gameID);
    mouse.down = true;
    console.log(mouse)
}

can.onmouseup = function(e){
    var mouse = E('Mouse',gameID);
    mouse.down = false;
    console.log(mouse)
}

</script>
<script src='js/systems.js'></script>
<script src='js/game.js'></script>
